
cd /home/comex && rm -rf linux-3.10.87 && tar -zxf linux-3.10.87.tar.gz && cp myConfig linux-3.10.87/.config


ssh 10.132.121.16 'rm -rf /home/comex/krpingTrimmed' &
ssh 10.132.121.15 'rm -rf /home/comex/krpingTrimmed' &
ssh 10.132.121.14 'rm -rf /home/comex/krpingTrimmed' &
ssh 10.132.121.13 'rm -rf /home/comex/krpingTrimmed' &
ssh 10.132.121.12 'rm -rf /home/comex/krpingTrimmed' &
ssh 10.132.121.11 'rm -rf /home/comex/krpingTrimmed' &
ssh 10.132.121.30 'rm -rf /home/comex/krpingTrimmed' &
ssh 10.132.121.29 'rm -rf /home/comex/krpingTrimmed' &
ssh 10.132.121.28 'rm -rf /home/comex/krpingTrimmed' &
ssh 10.132.121.27 'rm -rf /home/comex/krpingTrimmed' &
ssh 10.132.121.26 'rm -rf /home/comex/krpingTrimmed' &
ssh 10.132.121.25 'rm -rf /home/comex/krpingTrimmed' &


ssh 10.132.121.16 'rm -rf /home/comex/linux-3.10.87' &
ssh 10.132.121.15 'rm -rf /home/comex/linux-3.10.87' &
ssh 10.132.121.14 'rm -rf /home/comex/linux-3.10.87' &
ssh 10.132.121.13 'rm -rf /home/comex/linux-3.10.87' &
ssh 10.132.121.12 'rm -rf /home/comex/linux-3.10.87' &
ssh 10.132.121.11 'rm -rf /home/comex/linux-3.10.87' &
ssh 10.132.121.30 'rm -rf /home/comex/linux-3.10.87' &
ssh 10.132.121.29 'rm -rf /home/comex/linux-3.10.87' &
ssh 10.132.121.28 'rm -rf /home/comex/linux-3.10.87' &
ssh 10.132.121.27 'rm -rf /home/comex/linux-3.10.87' &
ssh 10.132.121.26 'rm -rf /home/comex/linux-3.10.87' &
ssh 10.132.121.25 'rm -rf /home/comex/linux-3.10.87' &


rsync -az /home/comex/linux-3.10.87 root@10.132.121.16:/home/comex/
rsync -az /home/comex/linux-3.10.87 root@10.132.121.15:/home/comex/
rsync -az /home/comex/linux-3.10.87 root@10.132.121.14:/home/comex/
rsync -az /home/comex/linux-3.10.87 root@10.132.121.13:/home/comex/
rsync -az /home/comex/linux-3.10.87 root@10.132.121.12:/home/comex/
rsync -az /home/comex/linux-3.10.87 root@10.132.121.11:/home/comex/
rsync -az /home/comex/linux-3.10.87 root@10.132.121.30:/home/comex/
rsync -az /home/comex/linux-3.10.87 root@10.132.121.29:/home/comex/
rsync -az /home/comex/linux-3.10.87 root@10.132.121.28:/home/comex/
rsync -az /home/comex/linux-3.10.87 root@10.132.121.27:/home/comex/
rsync -az /home/comex/linux-3.10.87 root@10.132.121.26:/home/comex/
rsync -az /home/comex/linux-3.10.87 root@10.132.121.25:/home/comex/

rsync -az /home/comex/linux-3.10.87 root@10.132.121.63:/home/comex/
rsync -az /home/comex/linux-3.10.87 root@10.132.121.61:/home/comex/
rsync -az /home/comex/linux-3.10.87 root@10.132.121.59:/home/comex/
rsync -az /home/comex/linux-3.10.87 root@10.132.121.58:/home/comex/
rsync -az /home/comex/linux-3.19.8 root@10.132.121.58:/home/comex/


rsync -az /home/comex/krpingTrimmed root@10.132.121.16:/home/comex/
rsync -az /home/comex/krpingTrimmed root@10.132.121.15:/home/comex/
rsync -az /home/comex/krpingTrimmed root@10.132.121.14:/home/comex/
rsync -az /home/comex/krpingTrimmed root@10.132.121.13:/home/comex/
rsync -az /home/comex/krpingTrimmed root@10.132.121.12:/home/comex/
rsync -az /home/comex/krpingTrimmed root@10.132.121.11:/home/comex/
rsync -az /home/comex/krpingTrimmed root@10.132.121.30:/home/comex/
rsync -az /home/comex/krpingTrimmed root@10.132.121.29:/home/comex/
rsync -az /home/comex/krpingTrimmed root@10.132.121.28:/home/comex/
rsync -az /home/comex/krpingTrimmed root@10.132.121.27:/home/comex/
rsync -az /home/comex/krpingTrimmed root@10.132.121.26:/home/comex/
rsync -az /home/comex/krpingTrimmed root@10.132.121.25:/home/comex/


rsync -avz /home/benchmark root@10.132.120.9:/home/
rsync -avz /home/benchmark root@192.168.10.2:/home/
rsync -avz /home/benchmark root@192.168.10.3:/home/
rsync -avz /home/benchmark root@192.168.10.4:/home/
rsync -avz /home/benchmark root@192.168.10.5:/home/
rsync -avz /home/benchmark root@192.168.10.6:/home/

rsync -avz /home/benchmark root@10.132.121.16:/home/
rsync -avz /home/benchmark root@10.132.121.15:/home/
rsync -avz /home/benchmark root@10.132.121.63:/home/
rsync -avz /home/benchmark root@10.132.121.61:/home/
rsync -avz /home/benchmark root@10.132.121.59:/home/
rsync -avz /home/benchmark root@10.132.121.58:/home/


ssh 10.132.121.16 'mkdir -p /home/result' 
ssh 10.132.121.15 'mkdir -p /home/result' 


ssh 10.132.121.16 'cd /home/comex/linux-3.10.87 && touch -m .config && make clean && make -j 4 && make -j 4 modules && make headers_install && make modules_install && make install && rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.15 'cd /home/comex/linux-3.10.87 && touch -m .config && make clean && make -j 4 && make -j 4 modules && make headers_install && make modules_install && make install && rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.14 'cd /home/comex/linux-3.10.87 && touch -m .config && make clean && make -j 4 && make -j 4 modules && make headers_install && make modules_install && make install && rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.13 'cd /home/comex/linux-3.10.87 && touch -m .config && make clean && make -j 4 && make -j 4 modules && make headers_install && make modules_install && make install && rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.12 'cd /home/comex/linux-3.10.87 && touch -m .config && make clean && make -j 4 && make -j 4 modules && make headers_install && make modules_install && make install && rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.11 'cd /home/comex/linux-3.10.87 && touch -m .config && make clean && make -j 4 && make -j 4 modules && make headers_install && make modules_install && make install && rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.30 'cd /home/comex/linux-3.10.87 && touch -m .config && make clean && make -j 4 && make -j 4 modules && make headers_install && make modules_install && make install && rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.29 'cd /home/comex/linux-3.10.87 && touch -m .config && make clean && make -j 4 && make -j 4 modules && make headers_install && make modules_install && make install && rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.28 'cd /home/comex/linux-3.10.87 && touch -m .config && make clean && make -j 4 && make -j 4 modules && make headers_install && make modules_install && make install && rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.27 'cd /home/comex/linux-3.10.87 && touch -m .config && make clean && make -j 4 && make -j 4 modules && make headers_install && make modules_install && make install && rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.26 'cd /home/comex/linux-3.10.87 && touch -m .config && make clean && make -j 4 && make -j 4 modules && make headers_install && make modules_install && make install && rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.25 'cd /home/comex/linux-3.10.87 && touch -m .config && make clean && make -j 4 && make -j 4 modules && make headers_install && make modules_install && make install && rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &


ssh 10.132.121.16 'cd /home/comex/krpingTrimmed; python gen_myconfig.py 11 1 520 192.168.10. > myconfig.h;' &
ssh 10.132.121.15 'cd /home/comex/krpingTrimmed; python gen_myconfig.py 11 2 520 192.168.10. > myconfig.h;' &
ssh 10.132.121.14 'cd /home/comex/krpingTrimmed; python gen_myconfig.py 11 3 520 192.168.10. > myconfig.h;' &
ssh 10.132.121.13 'cd /home/comex/krpingTrimmed; python gen_myconfig.py 11 4 520 192.168.10. > myconfig.h;' &
ssh 10.132.121.12 'cd /home/comex/krpingTrimmed; python gen_myconfig.py 11 5 520 192.168.10. > myconfig.h;' &
ssh 10.132.121.11 'cd /home/comex/krpingTrimmed; python gen_myconfig.py 11 6 520 192.168.10. > myconfig.h;' &
ssh 10.132.121.30 'cd /home/comex/krpingTrimmed; python gen_myconfig.py 11 7 520 192.168.10. > myconfig.h;' &
ssh 10.132.121.29 'cd /home/comex/krpingTrimmed; python gen_myconfig.py 11 8 520 192.168.10. > myconfig.h;' &
ssh 10.132.121.28 'cd /home/comex/krpingTrimmed; python gen_myconfig.py 11 9 57370 192.168.10. > myconfig.h;' &
ssh 10.132.121.27 'cd /home/comex/krpingTrimmed; python gen_myconfig.py 11 10 57370 192.168.10. > myconfig.h;' &
ssh 10.132.121.26 'cd /home/comex/krpingTrimmed; python gen_myconfig.py 11 11 57370 192.168.10. > myconfig.h;' &
ssh 10.132.121.25 'cd /home/comex/krpingTrimmed; python gen_myconfig.py 11 12 57370 192.168.10. > myconfig.h;' &


ssh 10.132.121.16 'yes | cp /usr/src/ofa_kernel-3.3/include/rdma/ib_verbs.h /lib/modules/3.10.87/build/include/rdma/; yes | cp /usr/src/ofa_kernel-3.3/include/rdma/rdma_cm.h /lib/modules/3.10.87/build/include/rdma/' &
ssh 10.132.121.15 'yes | cp /usr/src/ofa_kernel-3.3/include/rdma/ib_verbs.h /lib/modules/3.10.87/build/include/rdma/; yes | cp /usr/src/ofa_kernel-3.3/include/rdma/rdma_cm.h /lib/modules/3.10.87/build/include/rdma/' &
ssh 10.132.121.14 'yes | cp /usr/src/ofa_kernel-3.3/include/rdma/ib_verbs.h /lib/modules/3.10.87/build/include/rdma/; yes | cp /usr/src/ofa_kernel-3.3/include/rdma/rdma_cm.h /lib/modules/3.10.87/build/include/rdma/' &
ssh 10.132.121.13 'yes | cp /usr/src/ofa_kernel-3.3/include/rdma/ib_verbs.h /lib/modules/3.10.87/build/include/rdma/; yes | cp /usr/src/ofa_kernel-3.3/include/rdma/rdma_cm.h /lib/modules/3.10.87/build/include/rdma/' &
ssh 10.132.121.12 'yes | cp /usr/src/ofa_kernel-3.3/include/rdma/ib_verbs.h /lib/modules/3.10.87/build/include/rdma/; yes | cp /usr/src/ofa_kernel-3.3/include/rdma/rdma_cm.h /lib/modules/3.10.87/build/include/rdma/' &
ssh 10.132.121.11 'yes | cp /usr/src/ofa_kernel-3.3/include/rdma/ib_verbs.h /lib/modules/3.10.87/build/include/rdma/; yes | cp /usr/src/ofa_kernel-3.3/include/rdma/rdma_cm.h /lib/modules/3.10.87/build/include/rdma/' &
ssh 10.132.121.30 'yes | cp /usr/src/ofa_kernel-3.3/include/rdma/ib_verbs.h /lib/modules/3.10.87/build/include/rdma/; yes | cp /usr/src/ofa_kernel-3.3/include/rdma/rdma_cm.h /lib/modules/3.10.87/build/include/rdma/' &
ssh 10.132.121.29 'yes | cp /usr/src/ofa_kernel-3.3/include/rdma/ib_verbs.h /lib/modules/3.10.87/build/include/rdma/; yes | cp /usr/src/ofa_kernel-3.3/include/rdma/rdma_cm.h /lib/modules/3.10.87/build/include/rdma/' &
ssh 10.132.121.28 'yes | cp /usr/src/ofa_kernel-3.3/include/rdma/ib_verbs.h /lib/modules/3.10.87/build/include/rdma/; yes | cp /usr/src/ofa_kernel-3.3/include/rdma/rdma_cm.h /lib/modules/3.10.87/build/include/rdma/' &
ssh 10.132.121.27 'yes | cp /usr/src/ofa_kernel-3.3/include/rdma/ib_verbs.h /lib/modules/3.10.87/build/include/rdma/; yes | cp /usr/src/ofa_kernel-3.3/include/rdma/rdma_cm.h /lib/modules/3.10.87/build/include/rdma/' &
ssh 10.132.121.26 'yes | cp /usr/src/ofa_kernel-3.3/include/rdma/ib_verbs.h /lib/modules/3.10.87/build/include/rdma/; yes | cp /usr/src/ofa_kernel-3.3/include/rdma/rdma_cm.h /lib/modules/3.10.87/build/include/rdma/' &
ssh 10.132.121.25 'yes | cp /usr/src/ofa_kernel-3.3/include/rdma/ib_verbs.h /lib/modules/3.10.87/build/include/rdma/; yes | cp /usr/src/ofa_kernel-3.3/include/rdma/rdma_cm.h /lib/modules/3.10.87/build/include/rdma/' &
ssh 10.132.121.16 'cd /home/comex/krpingTrimmed; modprobe -r rdma_krping; make clean; make; make install; modprobe rdma_krping' &
ssh 10.132.121.15 'cd /home/comex/krpingTrimmed; modprobe -r rdma_krping; make clean; make; make install; modprobe rdma_krping' &
ssh 10.132.121.14 'cd /home/comex/krpingTrimmed; modprobe -r rdma_krping; make clean; make; make install; modprobe rdma_krping' &
ssh 10.132.121.13 'cd /home/comex/krpingTrimmed; modprobe -r rdma_krping; make clean; make; make install; modprobe rdma_krping' &
ssh 10.132.121.12 'cd /home/comex/krpingTrimmed; modprobe -r rdma_krping; make clean; make; make install; modprobe rdma_krping' &
ssh 10.132.121.11 'cd /home/comex/krpingTrimmed; modprobe -r rdma_krping; make clean; make; make install; modprobe rdma_krping' &
ssh 10.132.121.30 'cd /home/comex/krpingTrimmed; modprobe -r rdma_krping; make clean; make; make install; modprobe rdma_krping' &
ssh 10.132.121.29 'cd /home/comex/krpingTrimmed; modprobe -r rdma_krping; make clean; make; make install; modprobe rdma_krping' &
ssh 10.132.121.28 'cd /home/comex/krpingTrimmed; modprobe -r rdma_krping; make clean; make; make install; modprobe rdma_krping' &
ssh 10.132.121.27 'cd /home/comex/krpingTrimmed; modprobe -r rdma_krping; make clean; make; make install; modprobe rdma_krping' &
ssh 10.132.121.26 'cd /home/comex/krpingTrimmed; modprobe -r rdma_krping; make clean; make; make install; modprobe rdma_krping' &
ssh 10.132.121.25 'cd /home/comex/krpingTrimmed; modprobe -r rdma_krping; make clean; make; make install; modprobe rdma_krping' &


ssh 10.132.121.16 'cd /home/comex/; echo "total_pages=2097152,writeOut_buff=256,readIn_buff=4096,proc_name=memcached" >/proc/krping; echo $! > PID' &
ssh 10.132.121.15 'cd /home/comex/; echo "total_pages=2097152,writeOut_buff=256,readIn_buff=4096,proc_name=memcached" >/proc/krping; echo $! > PID' &
ssh 10.132.121.14 'cd /home/comex/; echo "total_pages=2097152,writeOut_buff=256,readIn_buff=4096,proc_name=memcached" >/proc/krping; echo $! > PID' &
ssh 10.132.121.13 'cd /home/comex/; echo "total_pages=2097152,writeOut_buff=256,readIn_buff=4096,proc_name=memcached" >/proc/krping; echo $! > PID' &
ssh 10.132.121.12 'cd /home/comex/; echo "total_pages=2097152,writeOut_buff=256,readIn_buff=4096,proc_name=memcached" >/proc/krping; echo $! > PID' &
ssh 10.132.121.11 'cd /home/comex/; echo "total_pages=2097152,writeOut_buff=256,readIn_buff=4096,proc_name=memcached" >/proc/krping; echo $! > PID' &
ssh 10.132.121.30 'cd /home/comex/; echo "total_pages=2097152,writeOut_buff=256,readIn_buff=4096,proc_name=memcached" >/proc/krping; echo $! > PID' &
ssh 10.132.121.29 'cd /home/comex/; echo "total_pages=2097152,writeOut_buff=256,readIn_buff=4096,proc_name=memcached" >/proc/krping; echo $! > PID' &
ssh 10.132.121.28 'cd /home/comex/; echo "total_pages=2097152,writeOut_buff=256,readIn_buff=4096,proc_name=memcached" >/proc/krping; echo $! > PID' &
ssh 10.132.121.27 'cd /home/comex/; echo "total_pages=2097152,writeOut_buff=256,readIn_buff=4096,proc_name=memcached" >/proc/krping; echo $! > PID' &
ssh 10.132.121.26 'cd /home/comex/; echo "total_pages=2097152,writeOut_buff=256,readIn_buff=4096,proc_name=memcached" >/proc/krping; echo $! > PID' &
ssh 10.132.121.25 'cd /home/comex/; echo "total_pages=2097152,writeOut_buff=256,readIn_buff=4096,proc_name=memcached" >/proc/krping; echo $! > PID' &


ssh 10.132.121.16 'tail -n 5 /var/log/messages' &
ssh 10.132.121.15 'tail -n 5 /var/log/messages' &
ssh 10.132.121.14 'tail -n 5 /var/log/messages' &
ssh 10.132.121.13 'tail -n 5 /var/log/messages' &
ssh 10.132.121.12 'tail -n 5 /var/log/messages' &
ssh 10.132.121.11 'tail -n 5 /var/log/messages' &
ssh 10.132.121.30 'tail -n 5 /var/log/messages' &
ssh 10.132.121.29 'tail -n 5 /var/log/messages' &
ssh 10.132.121.28 'tail -n 5 /var/log/messages' &
ssh 10.132.121.27 'tail -n 5 /var/log/messages' &
ssh 10.132.121.26 'tail -n 5 /var/log/messages' &
ssh 10.132.121.25 'tail -n 5 /var/log/messages' &


ssh 10.132.121.16 'rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.15 'rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.14 'rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.13 'rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.12 'rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.11 'rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.30 'rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.29 'rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.28 'rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.27 'rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.26 'rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &
ssh 10.132.121.25 'rm -f /var/log/messages* && rm -f /var/spool/mail/root && reboot' &


ssh 10.132.121.16 'free -h' &
ssh 10.132.121.15 'free -h' &
ssh 10.132.121.14 'free -h' &
ssh 10.132.121.13 'free -h' &
ssh 10.132.121.12 'free -h' &
ssh 10.132.121.11 'free -h' &
ssh 10.132.121.30 'free -h' &
ssh 10.132.121.29 'free -h' &
ssh 10.132.121.28 'free -h' &
ssh 10.132.121.27 'free -h' &
ssh 10.132.121.26 'free -h' &
ssh 10.132.121.25 'free -h' &


